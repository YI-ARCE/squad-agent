淋雨战术小队管理插件
===========

### 环境要求 (🟧为必须)
* 🟧 windows 10 1903版本或更高(支持2019+服务器版本)
* 🟧 mysql8.0或更高的windows版
* 淋雨战术小队面板

### 特性
* 自动推送对局信息
* 自带权限管理
* 简易玩家VIP权限组
* 单服务器多开端口
* 免费！免费！免费~！
* 长连RCON
* 开源吃土万岁~~~
* 😭好用点个star吧各位服主们

### 默认支持的聊天命令表

| 命令(不区分大小写)                               | 描述                  | OP专属 | 全频道支持(admin除外) |
|------------------------------------------|---------------------|:----:|:--------------:|
| `qd`,`签到`                                | 签到获取积分,任意新对局可发一次    |  ❌️  |       ✔️       |
| `tb`,`跳边`                                | 对局容错跳边,无积分消耗,共10次   |  ❌️  |       ✔️       |
| `killed`                                 | 玩家获取本次击败自己的敌对士兵击杀数据 |  ❌️  |       ✔️       |
| `op`                                     | 查询op在线              |  ❌️  |       ✔️       |
| `jftb`,`积分跳边`                            | 消耗积分跳边,对局无限制        |  ❌️  |       ✔️       |
| `sor`, `sr`, `sorry`, `sry`, `对不起`, `抱歉` | 击杀友军时必须发送,杀几个发几次    |  ❌️  |       ✔️       |
| `jfcx`, `cxjf`, `jf`, `积分查询`             | 查询玩家的积分             |  ❌️  |       ✔️       |


### API介绍
> 链接请使用websocket,提交格式如下

```
{
    "type":"login_request",
    "data":"{....}"
}
```
* `type`为请求类型
* `data`为序列化后的json对象

> 响应格式如下

```
{
    "type":"login_response",
    "data":"{.....}"
    "tag":"...."
}
```
* `type`为响应类型
* `data`为序列化后的json对象
* `tag`为特殊标签,只有在`game_event`、`rcon_response`、`api_response`类型下返回
------------------------
#### 登录请求 `login_request`

| 字段名      | 描述     | 必须 |
|----------|--------|:--:|
| user     | 管理员用户名 | ✔️ | 
| password | 管理员密码  | ✔️ | 

> 请求示例

```
{
    "user":"admin",
    "password":"123456"
}
```

#### 登录响应 `login_response`

| 字段名          | 描述                | 必须 |
|--------------|-------------------|:--:|
| login_status | 登录状态              | ✔️ | 
| expire_time  | 到期时间              | ✔️ | 
| a_id         | 管理员ID             | ✔️ |
| role         | 权限组信息             | ✔️ | 
| ├─ar_id      | 权限组ID             | ✔️ | 
| ├─ar_name    | 权限组名              | ✔️ | 
| └─ar_group   | 权限集合(*代表不限制,逗号分割) | ✔️ | 
| msg          | 提示信息              | ✔️ | 

> 响应示例

```
{
    "login_status":true,
    "expire_time":1740569844,
    "a_id":"1",
    "role":{
        "ar_id":"1",
        "ar_name":"超级管理员",
        "ar_group":"*"
    },
    "msg":"success"
}
```